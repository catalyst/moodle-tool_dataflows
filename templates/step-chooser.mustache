{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template tool_dataflows/step-chooser

    Intermediate step to choose a particular step type before filling out the
    details for it on the step edit form.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * label the text or html content of the main button
    * hastriggers whether or not the there were triggers provided
    * hasconnectors whether or not the there were connectors provided
    * hasflows whether or not the there were flows provided
    * items collection of known categories of step types (trigger, flow, connectors)

    Example context (json):
    {
        "label": "New step",
        "items": {
            "triggers": [ {
                    "href": "",
                    "label": "trigfers"
                } ],
            "readers": [ {
                    "href": "",
                    "label": "reader"
                } ],
            "writers": [ {
                    "href": "",
                    "label": "writers"
                } ],
            "writers": [ {
                    "href": "",
                    "label": "writers"
                } ],
            "flowlogics": [ {
                    "href": "",
                    "label": "flowlogics"
                } ],
            "connectors": [ {
                    "href": "",
                    "label": "connectors"
                } ],
            "flows": [ {
                    "href": "",
                    "label": "flows"
                } ]
        },
        "hastriggers": true,
        "hasreaders": true,
        "haswriters": true,
        "hasflowlogics": true,
        "hasconnectors": true,
        "hasflows": true
    }
}}
<div class="container step-chooser">
    <div class="row">
        <!-- triggers -->
        {{#hastriggers}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgrouptriggers, tool_dataflows {{/str}}</h6>
                {{#items.triggers}}
                    <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.triggers}}
            </div>
        {{/hastriggers}}

        <!-- connectors -->
        {{#hasconnectors}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgroupconnectors, tool_dataflows {{/str}}</h6>
                {{#items.connectors}}
                    <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.connectors}}
            </div>
        {{/hasconnectors}}

        <!-- connectorlogics -->
        {{#hasconnectorlogics}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgroupconnectorlogics, tool_dataflows {{/str}}</h6>
                {{#items.connectorlogics}}
                    <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.connectorlogics}}
            </div>
        {{/hasconnectorlogics}}

        <!-- readers -->
        {{#hasreaders}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgroupreaders, tool_dataflows {{/str}}</h6>
                {{#items.readers}}
                    <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.readers}}
            </div>
        {{/hasreaders}}

        <!-- flowlogics -->
        {{#hasflowlogics}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgroupflowlogics, tool_dataflows {{/str}}</h6>
                {{#items.flowlogics}}
                    <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.flowlogics}}
            </div>
        {{/hasflowlogics}}

        <!-- flowtransformers -->
        {{#hasflowtransformers}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgroupflowtransformers, tool_dataflows {{/str}}</h6>
                {{#items.flowtransformers}}
                   <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.flowtransformers}}
            </div>
        {{/hasflowtransformers}}

        <!-- writers -->
        {{#haswriters}}
            <div class="col-sm">
                <h6 class="dropdown-header">{{#str}} stepgroupwriters, tool_dataflows {{/str}}</h6>
                {{#items.writers}}
                 <a class="dropdown-item" href="{{{href}}}">{{{label}}}</a>
                {{/items.writers}}
            </div>
        {{/haswriters}}
    </div>
</div>
